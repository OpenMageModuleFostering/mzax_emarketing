/*TODO*/ 

ace.define("ace/ext/mage_autocomplete",["require","exports","module","ace/ext/language_tools"],function(a,b,c){"use strict";function d(a){return function(b,c){var d=c.match(/\{js:\s*([a-zA-Z0-9]+)\}/);if(d){var e=b[d[1]]||window[d[1]];e&&(e.call(b),c="")}return a.call(this,b,c)}}var e=ace.require("ace/autocomplete/util"),f=ace.require("ace/snippets").snippetManager,g=a("ace/commands/default_commands").commands,h=ace.require("ace/ext/language_tools"),i=a("ace/autocomplete").Autocomplete,j=a("ace/editor").Editor,k=a("ace/config"),l=/[a-zA-Z_0-9\$\.\u00A2-\uFFFF-]/;j.prototype.setMageSnippets=function(a){a&&(this._mageSnippets=a,a.forEach(function(a){f.register([{name:"$"+a.shortcut,score:100,snippet:a.snippet,content:a.snippet,type:"snippet",trigger:"\\$(?:"+a.shortcut+")",guard:".*",scope:"mage",endTrigger:"",endGuard:".*"}]),a.type="snippet",a.score=1e3,a.meta="Mage",a.identifierRegex=l;var b=[];a.title&&b.push("<strong>",a.title,"</strong><hr></hr>"),a.shortcut&&b.push('Shortcut: <code style="font-weight:bold; color:#CB6D12">$',a.shortcut,"</code>"),
a.description&&b.push("<p>",a.description,"</p>"),a.snippet&&b.push("Code: <p><code>",a.snippet,"</code></p>"),a.docHTML=b.join("")}))};var m=function(a){var b=a.editor,c=b.completer&&b.completer.activated;if("insertstring"===a.command.name||"mage"===a.command.name||"go"==a.command.name.substr(0,2)){var d=b.getCursorPosition(),f=b.session.getLine(d.row),g=e.retrievePrecedingIdentifier(f,d.column,l);"mage."!=g||c||(b.completer||(b.completer=new i),b.completer.autoSelect=!1,b.completer.autoInsert=!1,b.completer.showPopup(b))}};h.addCompleter({getCompletions:function(a,b,c,d,e){a._mageSnippets&&e(null,a._mageSnippets)}}),k.defineOptions(j.prototype,"editor",{enableMageLiveAutocompletion:{set:function(a){a?(this.completers||(this.completers=Array.isArray(a)?a:completers),this.commands.on("afterExec",m)):this.commands.removeListener("afterExec",m)},value:!1}}),g.push({name:"mage",bindKey:{win:"Ctrl-M",mac:"Command-M"},exec:function(a){a.insert("mage.")},readOnly:!1}),["insertSnippet","insertSnippetForSelection"].forEach(function(a){
f[a]=d(f[a])})});